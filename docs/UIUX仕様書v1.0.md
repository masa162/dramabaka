# ドラマアーカイブ UIUX仕様書 v1.0

## 📋 概要

### プロジェクト情報
- **対象機能**: ドラマアーカイブページ
- **設計基準**: スケーラビリティ設計書準拠
- **想定データ量**: 年間140本、10年で1400本
- **運用方針**: 週5時間以内の負荷、自動化優先

---

## 🎯 設計選択肢分析

### 選択肢A: 年代別階層UI
```
ドラマアーカイブ
├── 2025年
│   ├── 冬 (1-3月期)
│   │   ├── NHK
│   │   │   ├── べらぼう
│   │   │   ├── あんぱん
│   │   │   └── ひとりでしにたい
│   │   ├── 日テレ
│   │   ├── テレ朝
│   │   └── ...
│   ├── 春 (4-6月期)
│   ├── 夏 (7-9月期)
│   └── 秋 (10-12月期)
├── 2024年
└── 2023年
```

### 選択肢B: 今季ドラマ形式継承
```
ドラマアーカイブ
├── 📺 2025年冬
│   ├── 月: べらぼう、あんぱん、...
│   ├── 火: 誘拐の日、初恋DOGs、...
│   └── ...
├── 📺 2024年秋
├── 📺 2024年夏
└── ...
```

### 選択肢C: ハイブリッド形式
```
ドラマアーカイブ
├── 最新シーズン（今季ドラマ形式）
└── 過去アーカイブ（年代別階層）
```

---

## 📊 比較評価マトリックス

| 評価項目 | 階層UI | 継承形式 | ハイブリッド |
|----------|--------|----------|-------------|
| **開発工数** | ⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| **運用負荷** | ⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **UX品質** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| **パフォーマンス** | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **拡張性** | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |
| **既存継承** | ⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |

### 詳細分析

#### 階層UI
**メリット**:
- 情報整理が直感的
- 大量データに対応
- 検索性が高い

**デメリット**:
- 実装工数大
- 複雑なナビゲーション
- モバイル対応が困難

#### 継承形式
**メリット**:
- 既存コードの再利用
- 開発工数最小
- 一貫したUX

**デメリット**:
- 大量データで重い
- 情報密度が高すぎる
- 階層が浅い

#### ハイブリッド形式
**メリット**:
- 最新情報のアクセス性
- 過去データの整理
- 段階的実装可能

**デメリット**:
- UI一貫性の課題
- 中程度の開発工数

---

## 🏆 推奨案：ハイブリッド形式

### 基本方針
**「段階的実装・運用負荷最小化・UX最適化」**

### UI構成
```
/archives ページ構成

┌─────────────────────────────────────┐
│ 📺 ドラマアーカイブ                    │
├─────────────────────────────────────┤
│ 🔥 今シーズン (2025年冬)               │
│ ├ 月: べらぼう、あんぱん...           │
│ ├ 火: 誘拐の日、初恋DOGs...           │
│ └ ... (継承形式)                     │
├─────────────────────────────────────┤
│ 📚 過去アーカイブ                     │
│ ├ 2024年                            │
│ │ ├ 秋 (25本) 🔗                    │
│ │ ├ 夏 (23本) 🔗                    │
│ │ ├ 春 (28本) 🔗                    │
│ │ └ 冬 (31本) 🔗                    │
│ ├ 2023年                            │
│ │ └ ... (年度別サマリー)              │
│ └ 2022年                            │
└─────────────────────────────────────┘
```

### Phase実装計画

#### Phase 1: 基本アーカイブ (即時実装)
- 今季ドラマ形式の継承
- 過去3シーズンのデータ表示
- 年度別サマリー表示

#### Phase 2: 詳細アーカイブ (3ヶ月後)
- 季別詳細ページ
- 放送局別フィルター
- 検索機能

#### Phase 3: 高度機能 (1年後)
- 階層ドリルダウン
- 統計ダッシュボード
- レコメンド機能

---

## 💻 技術仕様

### データ構造
```typescript
// アーカイブデータ型定義
interface SeasonArchive {
  year: number
  season: 'spring' | 'summer' | 'autumn' | 'winter'
  dramaCount: number
  avgBakaLevel: number
  topDramas: Drama[]
  summary: string
}

interface YearlyArchive {
  year: number
  seasons: SeasonArchive[]
  totalDramas: number
  highlights: Drama[]
}
```

### ファイル構成
```
src/
├── app/
│   └── archives/
│       ├── page.tsx              # メインアーカイブ
│       └── [year]/
│           └── [season]/
│               └── page.tsx      # 季別詳細
├── components/
│   └── archives/
│       ├── CurrentSeasonList.tsx # 今季リスト
│       ├── YearlyArchive.tsx     # 年度別
│       └── SeasonDetail.tsx      # 季別詳細
└── lib/
    └── data/
        └── archives.ts           # アーカイブデータ
```

### パフォーマンス戦略
```typescript
// 段階的ロード
const currentSeason = await getCurrentSeasonDramas() // 即座表示
const yearlyData = await getYearlyArchives()         // 遅延ロード
const searchIndex = await getArchiveSearchIndex()    // 別プロセス
```

---

## 🎨 デザイン方針

### 2000年代風継承
- **カラーパレット**: 既存テーマ準拠
- **フォント**: MS UI Gothic統一
- **装飾**: グラデーション・立体ボタン使用
- **アニメーション**: 控えめな点滅効果

### レスポンシブ対応
```css
/* モバイル: 縦積み */
.archive-container {
  flex-direction: column;
}

/* デスクトップ: 横並び */
@media (min-width: 768px) {
  .archive-container {
    flex-direction: row;
  }
}
```

### アクセシビリティ
- **キーボードナビゲーション**: 完全対応
- **スクリーンリーダー**: 適切なラベル付け
- **色覚対応**: コントラスト確保

---

## 🔄 運用ワークフロー

### 更新フロー (週1回, 10分以内)
```mermaid
graph LR
    A[新ドラマ情報収集] --> B[weekly-dramas.ts更新]
    B --> C[自動ビルド・デプロイ]
    C --> D[アーカイブ自動更新]
```

### 季節切り替え (年4回, 30分以内)
```mermaid
graph LR
    A[季節データ準備] --> B[アーカイブデータ生成]
    B --> C[今季→過去への移行]
    C --> D[新季データ反映]
```

### データバックアップ (自動)
```yaml
backup_strategy:
  frequency: "daily"
  retention: "1年分"
  location: "Vercel + GitHub"
```

---

## 📈 段階的実装ロードマップ

### フェーズ1: MVP (2週間)
- [ ] 今季ドラマ表示継承
- [ ] 年度別サマリー表示
- [ ] 基本ナビゲーション

### フェーズ2: 拡張 (1ヶ月)
- [ ] 季別詳細ページ
- [ ] 簡易検索機能
- [ ] パフォーマンス最適化

### フェーズ3: 高度化 (3ヶ月)
- [ ] 高度検索・フィルター
- [ ] 統計ダッシュボード
- [ ] レコメンドシステム

---

## 🎯 成功指標 (KPI)

### 技術指標
- **ページロード時間**: < 2秒
- **ビルド時間**: < 3分
- **エラー率**: < 0.1%

### ユーザー指標
- **アーカイブページ滞在時間**: > 3分
- **過去ドラマ詳細ページ遷移率**: > 15%
- **検索利用率**: > 10%

### 運用指標
- **週次更新作業時間**: < 10分
- **季節切り替え作業時間**: < 30分
- **障害対応時間**: < 1時間

---

## 🚀 実装推奨理由

### 1. 段階的リスク軽減
現在の機能を破壊せず、段階的に拡張可能

### 2. 運用負荷最小化
既存ワークフローの延長で対応可能

### 3. ユーザー価値最大化
最新情報のアクセス性と過去データの整理を両立

### 4. 技術的合理性
既存技術スタックで実現可能、過度な複雑化回避

### 5. 将来拡張性
データベース移行やAPI化への移行パスを確保

---

## 📝 実装時の注意点

### 既存機能への影響
- **右側ナビの今季ドラマ**: そのまま維持
- **ドラマ詳細ページ**: 既存ルーティング継承
- **レビューシステム**: 無影響

### パフォーマンス配慮
- **遅延ロード**: 非重要データは後から読み込み
- **キャッシュ活用**: 静的データの効率的キャッシュ
- **インデックス分離**: 検索機能は別プロセスで構築

### 保守性確保
- **型安全**: TypeScript 100%対応
- **テスト**: 重要機能のテストカバレッジ確保
- **ドキュメント**: 更新手順の明文化

---

## 🔮 将来展望

### 1年後の姿
- 1400本のドラマアーカイブ
- 高速検索・フィルター機能
- パーソナライズレコメンド

### 3年後の展望
- 外部API化
- 他サイトへの技術提供
- データ資産としての活用

---

**この仕様書に基づき、まずPhase 1から実装を開始することを推奨します。**

---

## 📄 更新履歴

| バージョン | 日付 | 更新内容 | 更新者 |
|------------|------|----------|--------|
| v1.0 | 2025-07-13 | 初版作成・推奨案決定 | Claude Code |

---

*この仕様書は実装進捗に応じて随時更新されます。*